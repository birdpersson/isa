<div class="main-content">
  <h1> Spisak registrovanih apoteka</h1>
  <div>
    <form>
      <mat-form-field class="full-width">
        <input matInput placeholder="Pretraga apoteka po imenu" [formControl]="searchText">
      </mat-form-field>
      <mat-form-field class="full-width">
        <mat-label>Sortiraj rezultate po</mat-label>
        <mat-select [formControl]="searchControl">
          <mat-option *ngFor="let item of sortOptions" [value]="item">
            {{item.text}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-button (click)="onPharmacySearch()"> Tazi </button>
      <mat-accordian>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              
            </mat-panel-title>
            <mat-panel-description>
              Pretraga po slobodnim farmaceutima
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-form-field class="margin-r">
            <mat-label>Odaberi datum savetovanja</mat-label>
            <input matInput [matDatepicker]="picker" autocomplete="false" [formControl]="dateControl">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Odaberite zeljeni period</mat-label>
            <mat-select  [formControl] = "timeControl">
              <mat-option *ngFor="let time of timeList" [value]="time">
                {{time.start}} - {{time.end}}
              </mat-option>
            </mat-select>
          </mat-form-field >
          <button mat-raised-button (click)="onPharmacistSearch()" [disabled]="!canSearch()" style="margin-left: 50px;"> Pronadji apoteke </button>
        </mat-expansion-panel>
      </mat-accordian>

    </form>
    <div class="full-width">
      <mat-grid-list cols="2" rowHeight="2:1">
        <mat-grid-tile *ngFor="let item of sortedpharmacyList">
          <mat-card class="pharmacy-card">
            <mat-card-title>
              {{item.name}}
            </mat-card-title>
            <mat-card-content>
              <p> Ocena: {{item.rating}}</p>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button (click)="gotoPharmacistPage(item.id)" *ngIf="ifAdvancedSearch">
                Pogledaj listu slobodnih farmaceuta</button>
              <button mat-button (click)="gotoPharmacyPage(item.id)">
                Pogledaj stranicu apoteke
              </button>
            </mat-card-actions>
          </mat-card>

        </mat-grid-tile>
      </mat-grid-list>
    </div>
  </div>
</div>